# Броски костей в Roll20 детальное руководство

## Как бросать кости

Бросать кости в Roll20 очень просто. Просто введите команду /roll в поле текстового чата, а затем формулу. В большинстве случаев формула совпадает с той, что написана в инструкции к вашей игре. Например, вы можете знать, что для броска атаки нужно бросить "D20 плюс ваш модификатор атаки". В Roll20 вы просто напечатаете /roll d20+5. Если вы попали в цель и вам нужно бросить 3d6+2 урона, вы просто напечатаете /roll 3d6+2. Наконец, вы также можете объединить несколько бросков. Если у вас есть атака, наносящая два типа урона, вы можете сделать /roll 2d6+5 + к8.

`/roll 1d20+5`

После выполнения броска вы увидите его результаты в текстовом чате. Обратите внимание, что для каждой группы брошенных костей будет группа чисел в скобках, представляющая собой результат каждого отдельного броска. (Число расположено на контуре типа брошенной кости, и этот контур имеет тот же цвет, что и цветной квадрат на портрете игрока, бросающего кости, в области игрока). Справа от знака равенства вы также увидите сумму всех значений костей плюс модификаторы. Тайные броски

По умолчанию все броски, которые вы делаете, видны всем, кто находится с вами в игре (включая всех игроков). Если вы хотите сделать бросок в тайне, вы можете использовать команду /gmroll, чтобы выполнить бросок, который могут видеть только ГМ и игрок, сделавший бросок. Так что если вы ГМ, то команда /gmroll будет видна только вам. Это отличный способ тайной проверки навыков. Включение дополнительной информации

Вы также можете включить в свой бросок текст, не относящийся к формуле, чтобы указать, для чего нужен этот бросок. Например, при броске на инициативу вы можете написать /roll 1к20+5 Roll for Initiative. Дополнительный текст никак не повлияет на ваш бросок, но он будет включен в журнал чата, чтобы другие могли видеть, для чего вы бросаете. Кстати, это совершенно необязательно, но некоторые ГМы считают, что это помогает лучше организовать все действия.

`/roll 1d20+5 Roll for Initiative`

Если вы хотите включить в дополнительный текст какие-либо числа, скобки, +, -, \*, / или %, вы можете поставить перед ними знак a, чтобы отделить формулу от текста и не дать роллеру запутаться. Например, вы можете написать /roll 1к20+5+5 Roll for Initiative.

Если вы хотите включить дополнительные комментарии до конца броска (мы называем их "встроенными метками"), используйте квадратные скобки. Например, /roll 2d20+5\[Огонь урон] + 3d6+5\[Лед урон]. Когда эти комментарии применяются непосредственно после броска кубика, они отображаются в виде всплывающих подсказок на костях:

`/roll 2d10+2d6[crit]+5` Critical Hit!

## Строчные броски костей

Если вам нужно более компактное представление бросков, воспользуйтесь преимуществом линейных бросков костей. Строчные броски - это такие же броски, как и обычные, за следующими исключениями:

```
Вы можете использовать их в любом сообщении чата, а не только в броске. Например, вы можете сделать обычное сообщение в чате, эмоцию или шепот с включенным в него броском.
Они оцениваются полностью перед любыми командами /roll, поэтому вы можете использовать их в качестве "случайных переменных" в своих бросках.
Вы увидите только результат общего броска, но можете навести курсор на результат, чтобы увидеть отдельные броски костей.
Если в броске есть успех крита, он будет выделен зеленым квадратом. Если крит провален, он будет выделен красным цветом. Если есть и то, и другое (потому что бросков было несколько), он будет выделен синим цветом. Также, когда вы наводите курсор на строку броска, чтобы увидеть детали броска, он будет показывать красные и зеленые выделения для самих бросков критов/провалов. 
```

Чтобы сделать инлайн-ролл, просто включите две скобки в любое сообщение чата или ролл, например:

`/em Riley is filled with [[3d6]] points of anger! /roll [[2d6]]d5`

Вы также можете вложить роллы в строку, один в другой, например:

`/em Steve gets slapped with [[ 3d6>[[1+3]] ]] carp!`&#x20;

### Запросы бросков

Иногда у вас может быть бросок (или макрос), который вы хотите изменять при каждом броске. Например, вы можете бросить переменное количество костей или добавлять разные модификаторы к броску каждый раз, когда выполняете действие. Запросы на бросок позволяют предложить тому, кто выполняет бросок, ввести значение при броске. Синтаксис запроса броска следующий:

?{Prompt Message} //Example: /roll ?{Number of Dice}d20 //You can also include a default value: /roll ?{Number of Dice|1}d20 // 1 would be the default`

Запросы на бросок можно использовать в бросках, макросах, способностях, эмоциях, шепотах - практически везде в приложении. Обратите внимание, что если вы используете одну и ту же формулировку для запроса, Roll20 будет запрашивать значение только в первый раз, когда оно встречается в броске. Так что в этом примере:

`/roll 1d20 + ?{Bonus1} vs ?{MinToSucceed} + ?{Bonus1}`

Roll20 запросит "Bonus1" только один раз и использует его в обоих местах. Только математические броски

Вы можете выполнять только математические броски, добавляя математическое выражение после команды roll.

Например, если вы хотите, чтобы Roll20 выполнил простое сложение, например 5 + 3, введите следующее:

`/roll 5+3`

Или если вы хотите сделать это в инлайн-ролле, вы можете использовать:

`[[5+3]]`


### Взрывающиеся кости

Roll20 поддерживает взрывающиеся кости - вы также можете знать это как "правило 6", "правило 10s" или "acing", в зависимости от вашей игровой системы. При использовании взрывающихся костей, если вы выкинули максимальное число на кубике (6 на к6, 10 на к10 и т. д.), вы можете повторить бросок и добавить дополнительный бросок к общему числу за этот бросок. Если дополнительный бросок также является максимальным числом, вы можете продолжить бросок!

Чтобы сделать бросок с помощью взрывающихся костей, просто добавьте восклицательный знак после числа сторон в формуле. Например, /roll 3d6! бросит 3 кости к6 со взрывающимися повторными бросками. Вы также можете определить точку взрыва для костей с помощью символов "больше-меньше". Например, /roll 3d6!>4 взорвется на любой кости, которая больше или равна 4. /roll 3d6!3 взорвется только при выпадении 3.

`/roll 10d6!`

Усложнение взрывающихся костей (Взрывающиеся кости в стиле Shadowrun)

В Shadowrun (и некоторых других системах) используется особый стиль взрывающихся костей, когда дополнительные броски для каждой кости складываются в один "бросок". Чтобы сделать это, просто используйте два восклицательных знака вместо одного. Так, например, чтобы бросить 5 к6, вы должны сделать /roll 5d6!!! Обычный бросок в Shadowrun - это взрыв костей по сравнению с целевым числом, например, /roll {5d6!!}>8 (обратите внимание на скобки, чтобы показать, что мы не имеем в виду "взорваться при любом числе больше 8", а скорее "взорваться при сложении 6, а затем сравнить с 8 для достижения успеха). Хотя целевое число (8) больше, чем возможный бросок одного кубика, с усложняющимися взрывающимися бросками один бросок может быть бесконечно высоким!

`/roll {5d6!!}>8`

Проникающие взрывающиеся кости (Взрывающиеся кости в стиле Хакмастера)

В системе HackMaster (и некоторых других системах) используется особый стиль взрывающихся костей, в котором при дополнительных бросках за каждую кость из броска вычитается 1. Чтобы сделать это, добавьте p после восклицательного знака. Например, чтобы бросить 5 К6, вы должны сделать /roll 5d6!p.

/roll 5d6!p Drop/Keep

Некоторые игровые системы просят вас бросить большое количество костей, а затем либо отбросить определенное количество самых низких бросков, либо оставить только определенное количество самых высоких. Roll20 поддерживает этот тип бросков с помощью команд d и k соответственно.

Например, вы можете бросить 8 костей d100 и оставить только 4 верхних броска. В Roll20 это будет выражено командой /roll 8d100k4. Когда Roll20 выведет результаты этого броска, вы увидите значение каждого отдельного броска d100, а все броски, кроме четырех лучших, будут закрашены серым цветом. Затем Roll20 выдаст вам общую сумму 4 верхних бросков. Выполнить бросок, чтобы отбросить 3 самых низких броска, будет очень похоже: /roll 8d100d3. Опять же, будет показано значение каждого брошенного костя, а 3 самых низких броска будут выделены серым цветом.

`/roll 8d100d3`

Команды d и k - это ярлыки для полноценных команд dl и kh. Если вам нужно сбросить самые высокие кости, используйте dh, а если нужно оставить самые низкие - kl. Например, /roll 8d100dh3 отбросит три самых высоких броска и оставит 5 самых низких, а /roll 8d100kl3 оставит три самых низких броска и отбросит 5 самых высоких. Количество целей (Успехов)

Обычно, когда вы выполняете бросок, Roll20 сообщает общее значение всех брошенных костей плюс любые модификаторы. Однако некоторые игровые системы используют броски костей против целевого числа, а затем суммируют общее количество успехов. В Roll20 используется символ больше > для обозначения того, что бросок больше или равен >= целевому числу. Символ "меньше" < используется для обозначения того, что бросок меньше или равен <= целевому числу.

Например, вы выполняете действие, требующее целевого числа 3, и бросаете 3 кубика К6, чтобы узнать, сколько успехов у вас будет. В Roll20 вы сделаете /roll 3d6>3. Обратите внимание на символ "больше", указывающий на то, что это бросок цели против 3. Roll20 покажет вам каждую брошенную кость, а затем сообщит количество костей со значением 3 или больше (обратите внимание, что совпадение с целевым числом засчитывается как успех!) Вы также можете бросить меньше целевого числа, например /roll 10d6<4, что даст вам успех за каждый брошенный кубик, равный 4 или меньше.

Вы также можете добавлять модификаторы к броскам цели, и модификатор будет добавлен к каждому отдельному броску костей, прежде чем он будет сравнен с целевым числом. Однако если вы собираетесь сделать это, рекомендуется использовать группу, чтобы убедиться, что парсер полностью понимает, что вы хотите сделать. Так, /roll {3d6+1}<3 бросит 3 кости К6, и к каждому броску добавит 1, а затем сравнит его с целевым числом 3.

`/roll 3d6>3`&#x20;

### Критический Успех и Очки Неудачи

Вы также можете модифицировать свои броски костей, чтобы указать, в какой момент бросок считается "Критическим Успехом" или "Критическим Провалом (Fumble)".

Чтобы показать любой бросок, равный 10 или больше, как критический успех, просто сделайте /roll 1d20cs>10. Чтобы показать любой бросок, равный или меньше 3, как критический провал, просто сделайте /roll 1d20cf<3. Чтобы показать любой бросок, равный 20 или 10, как критический успех, просто сделайте /roll 1d20cs20cs10.

Примечание: Эти значения не влияют на другие вещи, которые по умолчанию работают на максимальном значении броска (в том числе на взрывы, пробивание и т. д.). Они влияют только на отображение результата броска игроку. Например, если вы хотите, чтобы кости взрывались на 18 или выше, и вы хотите показать 18 или выше как критическое значение, вам нужно сделать /roll 1к20!>18cs>18.

`/roll 1d20cs>10`&#x20;

### Переброс костей

Некоторые системы требуют, чтобы определенные кости были переброшены, например, жестокое оружие в D\&D 4e требует, чтобы все 1 или 2 были переброшены, а оригинальное значение кубика игнорировалось.

Чтобы использовать повторный бросок, просто сделайте /roll 2d8r и < можно использовать в качестве сравнения, а суффикс r можно указать несколько раз. /roll 2d8r1r3r5r7 бросит 2d8 и повторно бросит любое нечетное число.

/roll 2d8r<2 

## FATE Dice

Roll20 также поддерживает кости FATE (используемые в FATE, FUDGE и других системах). Roll20 точно моделирует кости FATE как 6-гранные кости, в которых две стороны равны 0, две стороны равны +1, а две стороны равны -1.

Чтобы бросить 4 кости FATE, просто выполните команду /roll 4dF. Roll20 покажет вам результат каждого отдельного броска костей FATE, а затем выдаст общую сумму всех бросков костей, сложенных вместе. Вы также можете добавить модификатор к итоговому результату, используя команду /roll 4dF+1.

`/roll 4dF`&#x20;

### Округление бросков и математические функции

Вы можете захотеть использовать округление в формулах бросков, чтобы эмулировать такие механики, как "половина уровня, округленная до ближайшего уровня". Roll20 предоставляет несколько функций для этого: floor(), которая всегда округляет число вниз (например, 5.7 становится 5), ceil(), которая всегда округляет число вверх (например, 5.1 становится 6), и round(), которая всегда округляет до ближайшего целого числа (например, 4.4 становится 4 и 4.5 становится 5). Вы можете использовать эти функции практически везде в формулах бросков (вокруг одного математического выражения, группы математических выражений или даже всего броска). Например:

`/roll floor(7/2) + 2d6`


Мы также предоставляем другие математические функции:

```
abs() will calculate the absolute value of the roll 
```

### Группировка бросков

Иногда вы можете захотеть выполнить серию бросков, а затем сравнить каждый бросок с общей проверкой (например, с проверкой на Успех). Roll20 предоставляет функцию "сгруппированные броски" для этой цели. Например, вы можете бросить два разных пула костей, а затем сохранить самый высокий бросок в любом из пулов:

`/roll {4d6+3d8}kh1`

Если разделить броски внутри группы запятой, то перед применением модификаторов мы просуммируем каждое отдельное выражение на одну кость в группе. Например, если мы изменим приведенный выше пример, чтобы использовать запятую, вместо того, чтобы сохранять наибольший одиночный бросок, он будет сохранять наибольший групповой итог:

`/roll {4d6,3d8}kh1`

Это необходимо в играх, основанных на системе Savage Worlds, где важные персонажи бросают "дикий кубик" параллельно с основным кубиком и выбирают наибольший бросок.

Группированные броски могут быть очень мощной функцией в Roll20. Подробнее о них вы можете прочитать в полной спецификации костей ниже.

Ниже вы найдете полную спецификацию движка костей Roll20. Это "продвинутая" документация. Если вы хотите сделать что-то совершенно безумное с костями Roll20, это отличное место, чтобы проверить, сможем ли мы это поддержать. Бросок к инициативе

Чтобы добавить бросок непосредственно в ход Roll20 (бросок для инициативы), вам нужно включить "опцию броска". Опция броска - это специальный флаг Roll20, который вы можете установить в любом месте броска, чтобы сообщить системе бросков, что вы хотите сделать с этим броском что-то особенное. Чтобы добавить число инициативы на трек хода, сначала нужно выбрать жетон, за который вы хотите сделать бросок, и использовать следующую формулу:

`/roll 1d20 + 5 &{tracker}`

Часть &{} - это место, куда вы помещаете параметры броска, а опция "tracker" - это то, что говорит: "Показать результаты этого броска, а также использовать результат как значение в трекере хода". Если у выбранного вами жетона еще нет хода в порядке хода, он будет добавлен. Если у него уже есть хотя бы один ход, все текущие ходы будут обновлены новым значением. Шаблоны бросков

Шаблоны бросков - это особый аспект системы "Листы персонажей", который предоставляет дополнительные возможности по оформлению и стилизации отображения результатов бросков. Использовать шаблоны бросков очень просто. Просто включите в сообщение в чате специальный флаг, сообщающий Roll20, что вы хотите использовать шаблон ролла, а затем укажите все данные, которые вы хотите включить.

Вот пример, использующий шаблон "по умолчанию" (к которому имеют доступ все игры, независимо от используемой игровой системы или таблицы персонажей): `&{template:default}` &#x20;


{% hint style="info" %}
Примечание: Если вы хотите использовать шаблоны роллов в своих собственных макросах или создать свои собственные шаблоны, пожалуйста, посетите вики-запись о шаблонах роллов.
{% endhint %}

&{template:default}    

Математические операторы и функции спецификации костей Roll20

Roll20 поддерживает основные арифметические операторы, которые вы изучали в школе: +, -, \* (умножение) и / (деление).

В дополнение к основным четырем операторам вам доступны:


```
% - для деления по модулю. Результат a % b - это остаток от a / b. Если вспомнить, как вы впервые изучали деление без десятичных дробей, то вы учились выполнять деление по модулю. Деление по модулю полезно, например, для проверки того, является ли значение четным или нечетным: a % 2 будет равно 0, если a четное (и положительное), и 1, если a нечетное (и положительное). В общем случае результат a % b, когда a и b - целые числа, будет целым числом в диапазоне [0, |b| - 1], где |b| - абсолютное значение b. (Если a меньше 0, результат будет отрицательным, включая -0. -0 функционально эквивалентен 0.)
** - для экспоненцирования. Возможно, вам больше знакомо выражение a^b, означающее "возведение a в степень b", но в Roll20 вместо него используется a**b. Также обратите внимание, что нахождение корней - это просто возведение числа в дробную экспоненту; квадратный корень - это просто экспонента из 0,5, например. 
```

Вы также имеете доступ к небольшому набору математических функций:

```
floor(x) округляет x в сторону отрицательной бесконечности.
round(x) округляет x в сторону 0, если дробная часть x меньше 0,5, и округляет x в сторону положительной бесконечности, если дробная часть x равна 0,5 или больше.
ceil(x) округляет x в сторону положительной бесконечности.
abs(x) возвращает абсолютное значение x. 
```

Операции выполняются в порядке старшинства, как и в обычной математике. От наибольшего к наименьшему старшинству:

```
Группировка с помощью круглых скобок (( и )); как и в реальной математике, вы можете изменить порядок старшинства, обернув круглые скобки вокруг элементов
Вызывая floor/round/ceil/abs
Экспоненциация (**)
Умножение (*), деление (/) и модуль (%), в порядке их появления (слева направо) в формуле
Сложение (+) и вычитание (-), в порядке их появления (слева направо) в формуле 
```

### Порядок операций

Хотя движок для игры в кости Roll20 поддерживает базовую математику и такие функции, как floor() и ceil(), это прежде всего движок для игры в кости, и поэтому у него есть свой порядок операций. Это означает, что размещение круглых скобок внутри формулы броска костей не всегда влияет на результат броска (например, вы не можете заставить переменную интерпретироваться перед макросом). Вот общий порядок операций:

```
Способности расширяются (то есть определение способности помещается в формулу везде, где эта способность появляется).
Макросы расширяются, включая вложенные макросы глубиной до 99 уровней.
Подставляются переменные
Выполняются запросы на бросок (игрока, делающего бросок, просят указать значение для каждого запроса, и это значение подставляется туда, где запрос на бросок появляется в формуле)
Все предыдущие шаги повторяются до тех пор, пока не останется нерешенных способностей, макросов, переменных или запросов. Это позволяет создавать вложенность (например, помещать атрибут в макрос).
Выполняются последовательные перекаты, начиная с наиболее глубоко вложенного последовательного переката и далее по возрастающей. Общий результат линейного ролика подставляется на место, где он был в формуле.
Остальные броски выполняются следующим образом: сначала бросаются любые кости (например, "2d6"; включая любые специальные кости, такие как выпавшие или взорвавшиеся), затем результат броска подставляется в формулу. Затем выполняются функции floor() и ceil(). Наконец, оценивается вся оставшаяся формула, включая соблюдение правильного математического порядка операций (сначала скобки, затем умножение/деление, затем сложение/вычитание). 
```

### Типы костей

Roll20 поддерживает не только стандартные многогранники при броске костей. Ниже перечислены типы костей, которые вы можете использовать в своих играх. Основной бросок NdX

Бросает N традиционных (почти, вы можете иметь любое количество сторон, которое вы хотите) костей с X сторонами на одну кость. N должно быть больше или равно 0, а X должно быть больше или равно 1. Fate/Fudge Roll NdF

Бросает N костей Fate/Fudge. У этих костей три стороны со значениями -1, 0 и 1. Вычисление числа бросков костей (N+Y)dX/Nd(X+Y)

Вычисляет количество бросков костей или количество сторон кубика на основе математического выражения в скобках. Вычисление костей может использоваться как с базовыми, так и с судьбоносными костями.

В пределах (N+Y)dX количество костей (N+Y) округляется до ближайшего целого числа, как и round(N+Y). Модификаторы бросков

Модификаторы, которые могут изменить поведение или результат бросков костей. В скобках после названия модификатора указано, к каким типам костей он может быть применен. К одному броску может быть применено несколько модификаторов, что позволяет создавать сложные выражения для костей.

```
B - базовый бросок
F - Fate/Fudge Roll 
```

Многие модификаторы сравнивают каждый кубик с целевым числом, чтобы решить, следует ли применить действие модификатора. Мы будем называть это точкой сравнения или CP для краткости в модификаторах бросков ниже. Точка сравнения состоит из необязательной операции сравнения <,=,> и целевого числа. Если операция не указана, подразумевается =, а для большинства модификаторов всю точку сравнения можно не указывать, чтобы получить поведение по умолчанию.

```
Примеры точек сравнения
3 - Если бросок равен 3
>2 - Если бросок больше или равен 2
<18 - Если бросок меньше или равен 18 
```

Количество целей / Успехов (B,F) - CP

Обычно, когда вы выполняете бросок, Roll20 сообщает общее значение всех брошенных костей, плюс любые модификаторы. Однако некоторые игровые системы работают, бросая набор костей против целевого числа, а затем суммируя общее количество успехов.

```
Примеры проверок на успех
3d6>3 - бросьте 3 к6 и засчитайте один успех за каждый бросок 3 или выше
10d6<4 - бросьте 10 к6 и засчитайте один успех за каждый бросок 4 или меньше 
```

Провалы (B,F) - fCP

Некоторые системы развивают проверки на успех, включая в них и провалы. Проверка на провал работает только тогда, когда проверка на успех уже выполняется, и каждый провал вычитает единицу из общего числа успехов.

```
Пример проверки на провал
3d6>3f1 - бросьте 3 к6 и считайте один успех за каждый бросок 3 или выше и один провал за каждый 1
10d6<4f>5 - бросьте 10 к6 и засчитайте один успех за каждый бросок 4 или меньше и один провал за каждый бросок 5 или больше 
```

Взрывающаяся кость (B,F) !CP

Взрывающаяся кость, также известная как "правило 6" или "правило 10", в зависимости от вашей игровой системы, бросает дополнительный кубик, если выпал максимум. Если дополнительный бросок также равен максимальному числу, дополнительные броски продолжаются! Точка сравнения может быть указана для изменения триггера взрыва.

```
Пример взрывающихся костей
3d6! - Бросает 3д6 и взрывается каждый раз, когда выпадает 6
3d6!>5 - бросает 3d6 и взрывается каждый раз, когда выпадает 5 или 6 
```

Составные Кости (B,F) !!!CP

В Shadowrun (и некоторых других системах, таких как 7th Sea и L5R) используется особый стиль взрывающихся костей, когда дополнительные броски для каждого кубика складываются в один "бросок". Для этого достаточно использовать два восклицательных знака вместо одного. С помощью суммирования взрывающихся бросков один бросок может быть бесконечно высоким! Точка сравнения может быть указана для изменения триггера взрыва.

```
Пример составных костей
5d6!! - Бросает 5d6 и компаундирует каждый раз, когда выпадает 6
5d6!!!5 - бросает 5d6 и комбинирует каждый раз, когда выпадает 5, 6 будет рассматриваться как обычный бросок 
```

Проникающие Кости (B,F) !pCP

В HackMaster (и некоторых других системах) используется особый стиль взрывающихся костей, когда при дополнительных бросках из каждого броска вычитается 1. Чтобы сделать это, добавьте букву p после восклицательного знака. Кубик может проникать несколько раз, но модификатор будет равен -1 только для каждого дополнительного кубика.

```
Пример соединения костей
5d6!p - бросает 5d6 и взрывается с модификатором -1 каждый раз, когда выпадает 6
5d6!p>5 - бросает 5d6 и взрывается с модификатором -1 каждый раз, когда выпадает 5 или выше. 
```

Кости (B,F) khN/klN/dhN/dlN

Некоторые игровые системы просят вас бросить большое количество костей, а затем либо отбросить определенное количество (N) самых низких бросков, либо оставить только определенное количество (N) самых высоких бросков. Roll20 поддерживает этот тип бросков с помощью команд d и k соответственно. Необязательный параметр h/l может быть либо h, чтобы оставить или сбросить самые высокие N костей, либо l, чтобы оставить или сбросить самые низкие N костей. Если параметр не указан, то при сохранении бросков старшие броски будут сохранены, а при сбросе бросков - низшие броски будут сброшены.

```
Пример сохранения бросков
8d100k4 - бросить 8 кубиков d100 и оставить четыре самых больших.
8d100kl4 - бросить 8 d100 и оставить четыре самых маленьких.
Пример бросков
8d100d4 - бросьте 8 d100 и сбросьте четыре самых маленьких валика.
8d100dh4 - бросьте 8 d100 и сбросьте четыре самых больших валика. 
```

Повторный бросок костей (B,F) rCP

Некоторые системы требуют, чтобы определенные кости были переброшены, например, жестокое оружие в D\&D 4e требует, чтобы все 1 или 2 были переброшены, а исходное значение кубика игнорировалось. Модификатор повторного броска может быть указан несколько раз, чтобы разрешить повторный бросок в нескольких точках сравнения. По умолчанию кости будут продолжать перебрасываться до тех пор, пока результат не окажется в пределах заданных параметров. Опционально вы можете установить, что результаты будут перебрасываться только один раз, независимо от результата.

```
Примеры повторных бросков
2d10r<2 - бросает 2 кубика d10 и делает повторный бросок каждый раз, когда выпадает 2 или меньше
8d6r - бросьте 8 к6 и делайте повторный бросок каждый раз, когда выпадает 1
8d6r2r4r6 - бросайте 8 к6 и делайте повторный бросок при выпадении 2, 4 или 6
2d6ro<2 - бросьте 2 к6 и перебросьте все, что меньше 2, но только один раз. 
```

Особый случай: Reroll Once (B,F) roCP

В некоторых системах (например, D\&D 5E) вы хотите перебросить кости ниже определенного значения, но при этом вы хотите перебросить их только один раз. Чтобы сделать это, просто используйте ro вместо r.

```
Пример повторного броска один раз
2d10ro<2 - бросьте 2 кубика d10 и делайте повторный бросок каждый раз, когда выпадает 2 или ниже, но только один раз на каждую кость. 
```

Сортировка костей (B,F) sa/sd

Вы можете захотеть увидеть свои результаты в порядке возрастания или убывания. Модификатор сортировки делает именно это. Параметр order является необязательным и задает порядок сортировки: a - по возрастанию, d - по убыванию. Если порядок не указан, то по умолчанию сортировка происходит по возрастанию.

```
Примеры повторных бросков
8d6s - бросить 8 к6 и отсортировать результаты в порядке возрастания
8d6sd - бросить 8 к6 и отсортировать результаты в порядке убывания 
```

Порядок действий для модификаторов

Модификаторы применяются в следующем порядке:

```
Взрывающийся, Составляющий, Проникающий, Повторные броски
Они применяются во время броска костей. Представьте, что вы бросаете на стол несколько взрывающихся 6d6, и как только одна из них выпадает как 6, бросается еще одна кость.
Оставить, Бросить, Успех, Провал, Сортировка
Применяются после того, как все кости "осели" и все значения результатов известны. 
```

### Группированные броски

Несколько бросков могут быть выполнены внутри группы с помощью фигурных скобок, используя запятую для разделения выражений под-бросков {3d6+3d4+5, 2d8+4}. Групповые броски имеют свой собственный набор групповых модификаторов, которые выполняют действия всей группы.

Примечание: каждое выражение подброска в сгруппированном броске должно содержать элементы одного типа:

```
"Суммарные броски", которые могут быть Базовыми бросками или вложенными Групповыми бросками.
"Успех".
("M-роллы", которые являются просто числами, могут быть упомянуты в сообщении об ошибке. Однако, в отличие от двух других типов бросков, M-броски не обязаны присутствовать в каждом выражении под-броска). 
```

Например, `[[{1d6,5}kh1]]`  провалится, но `[[ {1d6, 5 + 0d0}kh1 ]]` или `[[ {1d6, {5}}kh1 ]] или [[ {[[1d6]], 5}kh1 ]]` или [[ {[[1д6]], 5}кх1 ]]` сработает.&#x20;

### Модификаторы сгруппированных бросков

Модификаторы, которые могут изменить поведение или результат сгруппированных бросков. Групповые броски могут иметь несколько модификаторов, применяемых к групповому броску, что позволяет использовать сложные выражения на костях. Удержать / сбросить khN/klN/dhN/dlN

Чтобы применить модификатор keep или drop к нескольким типам костей, оберните бросок в группу. При наличии в группе одного подброска операция keep/drop применяется ко всем броскам. Чтобы выбрать лучшее или худшее выражение броска, можно использовать несколько подгрупп. В этом случае операция keep/drop применяется к конечному результату каждой подгруппы.

```
Пример сохранения одной подгруппы
{4d6+3d8}k4 - Бросаем 4 к6 и 3 к8, из 7 костей сохраняем и суммируем 4 самые высокие.
Пример выпадения нескольких подбросов
{4d6+2d8, 3d20+3, 5d10+1}к1 - Бросьте каждое из трех выражений подброса и суммируйте их. Бросьте выражение с наименьшим итогом и просуммируйте два оставшихся в результате. 
```

Количество целей / Успехов (B,F) - CP

Та же концепция, что и при использовании на бросках Кости, но с другим поведением для группы. Для сгруппированных бросков с одним выражением в подброске проверка успеха выполняется после того, как остальные математические выражения будут суммированы в каждом броске. Группы с одним подброском также полезны при проверке успешности броска, у которого есть другой модификатор с функцией Compare Point. Для сгруппированного рулона с несколькими выражениями подрулеток проверка успеха применяется к результату каждого выражения подрулеток.

```
Пример успеха одиночного подброска
{3d20+5}>21 - бросьте 3 d20, за каждый бросок добавьте 5 и засчитайте успех за каждый результат 21 или больше.
{2d6!}>4 - бросьте 2d6 на взрыв и засчитайте успех за каждый результат 4 или больше.
Пример успеха нескольких под-роллов
{4d6+2d8, 3d20+3, 5d10+1}>40 - бросьте каждое из трех выражений под-роллов и суммируйте их. Засчитайте один успех за каждый суб-ролл, равный 40 или более. 
```

Провалы (B,F) - fCP

Проверки на провал в группах работают так же, как и проверки на успех.

```
Пример провала одного подброска
{3d20+5}>21f<10 - Бросьте 3 d20, к каждому броску прибавьте 5 и засчитайте успех за каждый результат 21 или больше и засчитайте провал за каждый результат 10 или меньше.
{2d6!}>4f1 - бросьте 2d6 на взрыв и засчитайте успех за каждый бросок 4 или больше и провал за каждый бросок 1.
Пример провала нескольких под-роллов
{4d6+2d8, 3d20+3, 5d10+1}>40f<10 - Бросьте каждый из трех суб-роллов выражения и суммируйте их. Засчитайте один успех для каждого суб-ролла, равного 40 или более, и один провал для каждого суб-ролла, равного 10 или менее. 
```
